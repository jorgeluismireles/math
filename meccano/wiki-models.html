<!DOCTYPE html>
<html>
<head>
<title>Wiki models</title>
<style>
svg { border:1px solid gray; }
</style>
<script src="svg.js"></script>
<script src="meccano.js"></script>
<script>
const $elem  = (id)=> document.getElementById(id)
const $value = (id)=> $elem(id).value
const $integer = (id)=> parseInt($value(id))
const $float = (id)=> parseFloat($value(id))

const svgParams = ()=> {
	return {
		width:       $integer("width"),
		height:      $integer("height"),
		scale:       $float("scale"),
		rotate:      $float("rotation"),
		strokeWidth: $float("stroke-width")
	}
}

const Polygon = function(p, name, S, rods, skip, extremes)
{
	const Svg = new SVG()

	const xml = $elem("svg")
	xml.innerHTML = ""
	const s = Svg.svg(p.width, p.height)
	xml.appendChild(s)
	xml.appendChild(document.createElement("br"))
	let a = document.createElement("a")
	let filename = `${name}.svg`
	a.download = `${name}.svg`
	a.textContent = `Download ${name}.svg`
	const app = `data:application/xml,<?xml version="1.0" encoding="UTF-8"?>`
	a.href = `${app}${encodeURIComponent(s.outerHTML)}`
	xml.append(a)
	const tx = p.width / (p.center_x || 2)
	const ty = p.height / (p.center_y || 2)
	const scale = p.scale || "1"
	const rotate = p.rotate || "0"
	const strokeWidth = p.strokeWidth || 0.3
	const g0 = Svg.g({ 
		transform:`translate(${tx} ${ty}) scale(${scale} -${scale}) rotate(${rotate})`,
		"stroke-width":`${strokeWidth}px`,
		"stroke-linecap": "round",
		"stroke":"#000",
	})
	s.appendChild(g0)

	const g = {}
	const r = {}
	Object.keys(rods).forEach($r => {
		const n = $r.toString()
		const fill = rods[$r] // if string
		g[n] = Svg.g({ fill:fill })
		g0.append(g[n])
		r[n] = []
	})

	const svgRod = (R, n, t)=> {
		return Svg.path(rod(R, n, skip, extremes), t, { opacity: 0.5 })
	}

	this.rods = (n, rod)=> {
		for (let i=0; i < n; i++) {
			rod(i, (id, t)=> {
				r[id.toString()].push(svgRod(S, parseInt(id), t))		
			})
		}
		Object.keys(r).forEach(k => {
			r[k].forEach(r => {
				g[k].append(r)
			})
		})
	}
}
</script>
</head>
<body>
<table>
<tr><td>Width</td>       <td><input type="number" value="400" id="width"></td></tr>
<tr><td>Height</td>      <td><input type="number" value="400" id="height"></td></tr>	
<tr><td>Scale</td>       <td><input type="number" value="1" id="scale"></td></tr>
<tr><td>Rotation</td>    <td><input type="number" value="0" id="rotation"></td></tr>
<tr><td>Stroke width</td><td><input type="number" value="0.3" id="stroke-width"></td></tr>
<tr><td>
<select id="select"></select>
</td>
<td>
<button id="create">Create</button>
</tr>
</table>
<div id="svg">
</div>
</body>
<script>
const rtr = (r1,t,r2)=> `rotate(${r1}) translate(0 ${t || 0}) rotate(${r2 || 0})`

const polygons = 
{
	braced_decagon: ()=> {
		const p = svgParams()
		p.center_x = 4.5
		p.center_y = 1.7
		const name = "braced_decagon"
		const S = 12
		const N = 8
		const extremes = true

		const colors = {}
		colors[N.toString()] = "#08f"
		const G = new Polygon(p, name, S, colors, false, extremes)
		const C = S*N*Math.sqrt((5-Math.sqrt(5))/10)
		const TR = r=> `translate(0 ${S*N}) rotate(${r})`
		G.rods(5, (i, rod)=> {
			rod(N, rtr(72*i, -C, +18))
			const t1 = rtr(72*i, -C, 180+54)
			if (i == 0 || i == 1 || i == 2)
				rod(N, t1)
			if (i == 1 || i == 2 || i == 3)
				rod(N, rtr(72*i, -C, 180-54))
			if (i == 0)
				rod(N, `${t1} ${TR(+72)}`)
			if (i == 1)
				rod(N, `${t1} ${TR(-108)}`)
			
			if (i == 3) { // up
				const ta = rtr(72*i, -C, 90)
				rod(N, ta)
				rod(N, `${ta} ${TR(-72)}`)
				rod(N, `${ta} ${TR(+36)}`)
				const tb = `${rtr(72*i, -C, 180-54)} ${TR(-36)}`
				rod(N, `${tb}`)
				rod(N, `${tb} ${TR(-36)}`)
				rod(N, `${tb} ${TR(-36)} ${TR(-36)}`)
				rod(N, `${tb} ${TR(-72)}`)
				rod(N, `${tb} ${TR(-72)} ${TR(+36)}`)
				rod(N, `${tb} ${TR(-72)} ${TR(-72)}`)
			}

			if (i == 2) {
				const tc = rtr(72*i, -C, 180-54)
				rod(N, `${tc} ${TR(0)}`)
				rod(N, `${tc} ${TR(0)} ${TR(+72)}`)
				rod(N, `${tc} ${TR(0)} ${TR(+72)} ${TR(-144)}`)
				rod(N, `${tc} ${TR(0)} ${TR(-72)}`)
				rod(N, `${tc} ${TR(0)} ${TR(-72)} ${TR(+144)}`)
				rod(N, `${tc} ${TR(0)} ${TR(-72)} ${TR(-72)}`)
				rod(N, `${tc} ${TR(0)} ${TR(-72)} ${TR(-108)}`)
				rod(N, `${tc} ${TR(0)} ${TR(-72)} ${TR(-72)} ${TR(-36)}`)
			}

		})
	},

	braced_pentagon: ()=> {
		const p = svgParams()
		p.center_x = 3.5
		p.center_y = 2.5
		const name = "pentagram_1"
		const S = 20
		const N = 8
		const extremes = true

		const colors = {}
		colors[N.toString()] = "#08f"
		const G = new Polygon(p, name, S, colors, false, extremes)
		const C = S*N*Math.sqrt((5-Math.sqrt(5))/10)
		G.rods(5, (i, rod)=> {
			rod(N, rtr(72*i, -C, +18))
			const t1 = rtr(72*i, -C, 180+54)
			if (i == 0 || i == 1)
				rod(N, t1)
			if (i == 1 || i == 2)
				rod(N, rtr(72*i, -C, 180-54))
			if (i == 0)
				rod(N, `${t1} translate(0 ${S*N}) rotate(72)`)
			if (i == 1)
				rod(N, `${t1} translate(0 ${S*N}) rotate(-108)`)
		})
	},

	pentagram_1: ()=> {
		const p = svgParams()
		const name = "pentagram_1"
		const S = 14
		const N = 8
		const extremes = true

		const colors = {}
		colors[N.toString()] = "#08f"
		const G = new Polygon(p, name, S, colors, false, extremes)
		const C = S*N*Math.sqrt((5-Math.sqrt(5))/10)
		G.rods(5, (i, rod)=> {
			rod(N, rtr(72*i, -C, +18))
			rod(N, rtr(72*i, -C, 180+54))
			rod(N, rtr(72*i, -C, 180-54))
		})
	},

	braced_decagon_irregular: ()=> {
		const p = svgParams()
		const name = "braced_decagon_irregular"
		const S = 14
		const N = 8
		const extremes = true

		const colors = {}
		colors[N.toString()] = "#08f"
		const G = new Polygon(p, name, S, colors, false, extremes)
		const C = S*N*Math.sqrt((5-Math.sqrt(5))/10)
		G.rods(5, (i, rod)=> {
			const a = (a)=> rtr(72*i, -C, a)
			rod(N, a(+18))
			rod(N, a(+78))
			rod(N, a(-78))
			const b = `${a(+78)} translate(0 ${S*N}) rotate(${30+73})`
			rod(N, b)
			rod(N, `${a(+78)} translate(0 ${S*N}) rotate(${30-73})`)

			rod(N, `${b} translate(0 ${S*N}) rotate(${-37+109})`)
			rod(N, `${b} translate(0 ${S*N}) rotate(${-37-109})`)
		})
	},

	braced_square_1: ()=> {
		const p = svgParams()
		p.center_x = 1.75
		p.center_y = 2.5
		const name = "braced_square_1"
		const S = 10
		const N = 20
		const extremes = true

		const colors = [ ".1",".2",".3",".4" ]

		const G = new Polygon(p, name, S, {
			 "20.1": "#08f",
			 "20.2": "#0f2",
			 "20.3": "#82f",
			 "20.4": "#f20"
		}, false, extremes)
		
		const T = S*N
		const _1_m_s2 = S*N*(1 - Math.sqrt(2)/2)
		const _1_p_s2 = S*N*(1 + Math.sqrt(2)/2)
		const atan = 180*Math.atan(_1_m_s2/_1_p_s2)/Math.PI

		const tr = a => `translate(0 ${T}) rotate(${a})`

		const OA = rtr(-45)
		const AD = rtr(-45,T,-135)
		const AF = rtr(-45,T,+135)

		const OB = rtr(-180)
		const BE = rtr(-180,T,-90)
		const BD = rtr(-180,T,+135)

		const OC = rtr(-270)
		const CE = rtr(-270,T,+90)
		const CF = rtr(-270,T,-135)


		const DI = `${AD} ${tr(-90-atan-30)}`
		const DJ = `${AD} ${tr(-90-atan+30)}`

		const IC = `${DI} ${tr( +60)}`
		const JI = `${DJ} ${tr(-120)}`
		const JC = `${DJ} ${tr( -60)}`

		const FG = `${AF} ${tr(90+atan+30)}`
		const FH = `${AF} ${tr(90+atan-30)}`

		const GB = `${FG} ${tr( -60)}`
		const HG = `${FH} ${tr(+120)}`
		const HB = `${FH} ${tr( +60)}`

		const rods = {
			".1": [ FG, FH, HB, HG, GB ],
			".2": [ OA,	AD, BD, CF, AF ],
			".3": [ DI, DJ, IC, JI, JC ],
			".4": [ OB, OC, BE, CE ]
		}

		colors.forEach(c => {
			G.rods(rods[c].length, (i, rod)=> {
				rod(N + c, rods[c][i])
			})
		})
	},


	braced_square_2: ()=> {
		const p = svgParams()
		p.center_x = 2
		p.center_y = 2.5
		const name = "braced_square_2"
		const S = 18
		const N = 6
		const T = S*N
		const extremes = true
		colors = [ ".1", ".2" ]
		const G = new Polygon(p, name, S, {
			"6.1": "#08f",
			"6.2": "#f20"
		}, false, extremes)

		const angle = 180*Math.atan(1/Math.sqrt(2))/Math.PI
		const tr = a => `translate(0 ${T}) rotate(${a})`

		const AD = rtr(0)

		const rods = {
			".1": [ AD ],
			".2": [ ],
		}
		const pair = [ +1, -1 ]
		pair.forEach(i => {
			rods[".2"].push(...[
				rtr(i*(-180+45)), // AB
				rtr(i*(-180+45), T, i*-90) // BC
			])
			const BE = rtr((-180+45)*i, T, (-90+60)*i)
			const BG = rtr((-180+45)*i, T, (-90+180)*i)
			const GH = `${BG} ${tr((135-angle-30)*i)}`
			const ID = `${GH} ${tr(+60*i)}`

			rods[".1"].push(...[
				BE,
				rtr((-180+45)*i, T, (-90+120)*i), // BF
				BG,
				`${BE} ${tr(-120*i)}`, // EC
				`${BE} ${tr(+120*i)}`, // EF
				`${BG} ${tr(-120*i)}`, // GF
				`${BG} ${tr((135-angle+30)*i)}`, // GI
				GH,
				`${GH} ${tr(+120*i)}`, // HI
				ID,
				`${ID} ${tr(+120*i)}` // DH
			])
		})
		colors.forEach(c => {
			G.rods(rods[c].length, (i, rod)=> {
				rod(N + c, rods[c][i])
			})
		})
	},


	tetradecagon: ()=> {
		const p = svgParams()
		const name = "meccano_heptagon"
		const S = 12
		const skip = true
		const G = new Polygon(p, name, S, {
			 6: "#08f",
			 8: "#0f2",
		    12: "#f20",
		}, skip)
		const C = 6*S / (2*Math.sin(Math.PI/14))
		const R = 180*(Math.PI/14)/Math.PI
		const a1 = +90+3*R
		const a4 = 180*Math.atan(1/8)/Math.PI
		const T = (s, r)=> `translate(0 ${6*S}) rotate(${s*R + (r||0)})`

		G.rods(14, (i, rod)=> {
			rod(6, rtr(-2*R*i, C, 90+R)) // perimeter
			const t3 = rtr(-2*R*i, 0, a1)
			if (i==0 || i==5 || i==10) {
				rod(12, `${t3} translate(0 ${-6*S})`)

				rod(6, `${t3} ${T(-4)}`)
				rod(6, `${t3} ${T(-4)} ${T(-4)}`)
				rod(6, `${t3} ${T(-4)} ${T(+8)}`)

				rod(6, `${t3} ${T(+4)}`)
				rod(6, `${t3} ${T(+4)} ${T(+4)}`)
				rod(6, `${t3} ${T(+4)} ${T(-8)}`)
			}
			if (i==0) { // mirror heptagons
				const t8  = (s)=> rtr(2*R*i, 0, s*4*R)
				const two = [ +1, -1 ]
				two.forEach(s => {
					rod(6, `${t8(1*s)} ${T(-4*s)}`)
					rod(8, `${t8(1*s)} ${T(+5*s, +a4)}`)
					rod(8, `${t8(1*s)} ${T(+5*s, -a4)}`)
					
					const t12 = `${t8(1*s)} ${T(-4*s)} ${T(+12*s)}`
					rod(6, `${t12}`)
					rod(6, `${t12} ${T(-4*s)}`)
					rod(8, `${t12} ${T(+5*s, +a4)}`)
					rod(8, `${t12} ${T(+5*s, -a4)}`)

					const ta = rtr(2*R*i, 0, -s*12*R)
					rod(6, ta)
					rod(8, `${ta} ${T(-5*s, -s*a4)}`)
					//rod(8, `${ta} ${T(-5*s, -a4)}`)

					const tb = rtr(2*R*i, -C, s*6*R)
					rod(6, `${tb} ${T(-4*s)}`)
					rod(6, `${tb} ${T(-4*s)} ${T(2*s)}`)
					rod(8, rtr(2*R*i, -6*S, s*9*R + a4))
					rod(8, rtr(2*R*i, -6*S, s*9*R - a4))
				})
			}
		})
	},

	triangle: ()=> {
		const p = svgParams()
		const name = "meccano_triangle"
		const S = 60
		const extremes = true
		const G = new Polygon(p, name, S, {
			4: "#08f"
		}, false, extremes)
		const C = (4/2)*S / Math.sin(Math.PI/3)
		G.rods(3, (i, rod)=> {
			rod(4, rtr(-120*i, C, 150))
		})
	},

	square: ()=> {
		const p = svgParams()
		const name = "meccano_square"
		const S = 25
		const skip = true
		const G = new Polygon(p, name, S, {
			 8: "#08f",
			10: "#f20"
		}, skip)
		const C = 8*S*Math.sqrt(2)/2 // circuncenter
		const acos4_5 = 180*Math.acos(4/5)/Math.PI

		G.rods(4, (i, rod)=> {
			rod(8, rtr(-90*i, C, -90-45))
			if (i==0)
				rod(10, rtr(-90*i, C, -90-45-acos4_5))
		})
	},

	pentagon1: ()=> {
		const p = svgParams()
		const name = "meccano_pentagon"
		const S = 18
		const G = new Polygon(p, name, S, {
			 9: "#08f",
			11: "#0d2",
			12: "#f20"
		})
		const C = 12*S/(2*Math.sin(Math.PI/5))

		const sin18 = Math.sin(Math.PI/10)
		const cos18 = Math.cos(Math.PI/10)
		const a1 = -90-36

		const p1 = { x:12*S*sin18, y:12*S*cos18 }
		const p2 = { x: 3*S,       y: 0 }
		const p3 = { x: 4*S*sin18, y: 4*S*cos18 }
		const a3 = 180*Math.atan((p1.x + p2.x + p3.x)/(p1.y - p3.y))/Math.PI

		G.rods(5, (i, rod)=> {
			rod(12, rtr(-72*i, C, a1))
			if (i==1) {
				rod(11, rtr(-72*i, C, -90-18-a3))
			}
			if (i==4) {
				const t = rtr(-72*i, C, a1-36)
				rod( 9, `${t}`)
				rod(12, `${t} translate(0,${S*9}) rotate(-72)`)
				rod(11, `${t} translate(0,${S*9}) rotate(${-90+a3})`)
			}
		})
	},

	pentagon2: ()=> {
		const p = svgParams()
		const name = "meccano_pentagon"
		const S = 16
		const G = new Polygon(p, name, S, {
			 9: "#08f",
			11: "#0f4",
			12: "#f20"
		})
		const C = 12*S/(2*Math.sin(Math.PI/5))

		G.rods(5, (i, rod)=> {
			const rt1 = `rotate(${-72*i}) translate(0 ${C})`
			const r2 = -90-36
			rod(12, `${rt1} rotate(${r2})`)
			if (i==4) {
				const rt2 = (m)=> `rotate(${-m*36}) translate(${m*4*S},0) rotate(${m*(90+72)})`
				rod( 9, `${rt1} ${rt2(-1)}`)
				rod( 9, `${rt1} ${rt2(+1)}`)
				rod(11, `${rt1} ${rt2(-1)} translate(0, ${9*S}) rotate(-64.4)`)
				rod(11, `${rt1} ${rt2(+1)} translate(0, ${9*S}) rotate(+64.4)`)
			}
		})
	},

	hexagon: ()=> {
		const p = svgParams()
		const name = "meccano_hexagon"
		const S = 70
		const skip = true
		const G = new Polygon(p, name, S, {
			2: "#08f",
			4: "#f20"
		}, skip)
		const C = 2*S
		G.rods(6, (i, rod)=> {
			const t1 = `rotate(${-60*i}) translate(0 ${C})`
			rod(2, `${t1} rotate(120)`)
			if (i==0 || i==1) {
				rod(4, `${t1} rotate(180)`)
			}
		})
	},

	heptagon: ()=> {
		const p = svgParams()
		const name = "meccano_heptagon"
		const S = 25
		const skip = true
		const G = new Polygon(p, name, S, {
			6: "#08f",
			8: "#f20"
		}, skip)
		const C = 6*S / (2*Math.sin(Math.PI/7))
		const R = 180*(Math.PI/7)/Math.PI
		const a1 = +90+3*R
		const a4 = 180*Math.atan(1/8)/Math.PI
		G.rods(7, (i, rod)=> {
			const t1 = `rotate(${-2*R*i}) translate(0 ${C})`
			rod(6, `${t1} rotate(${90+R})`)
			if (i==0 || i==1 || i==2) {
				const t2 = `translate(0 ${6*S}) rotate(${-2*R})`
				rod(6, `${t1} rotate(${a1})`)
				rod(6, `${t1} rotate(${a1}) ${t2}`)
				rod(8, `${t1} rotate(${a1}) ${t2} rotate(${(9*R/2) + a4})`)
				rod(8, `${t1} rotate(${a1}) ${t2} rotate(${(9*R/2) - a4})`)
			}
		})
	},

	octagon1: ()=> {
		const p = svgParams()
		const name = "meccano_octagon"
		const S = 30
		const G = new Polygon(p, name, S, {
			4: "#08f",
			5: "#0f4",
			6: "#f20"
		})
		const C = 4*S*Math.sqrt(4 + 2*Math.sqrt(2))/2 // circumradius
		const r4 = [], r5 = [], r6 = []
		const acos4_5 = 180*Math.acos(4/5)/Math.PI
		const asin2_6 = 180*Math.asin(2/6)/Math.PI

		G.rods(8, (i, rod)=> {
			const rt1 = `rotate(${-45*i}) translate(0 ${C})`
			const r2 = -90-22.5
			rod(4, `${rt1} rotate(${r2})`)
			if (i==0) { // north
				rod(4, `${rt1} rotate(${r2 - 90})`)
				rod(5, `${rt1} rotate(${r2 - acos4_5})`)
			}
			if (i==1) { // north-east
				rod(4, `${rt1} rotate(${r2 - 45})`)
			}
			if (i==3) {
				const t3a = `${rt1} rotate(${r2 - 90})`
				const t3b = `translate(0 ${4*S}) rotate(${180 - acos4_5})`
				const t3c = `translate(0 ${4*S}) rotate(${180 - 45 - asin2_6})`
				rod(4, `${t3a}`)
				rod(5, `${t3a} ${t3b}`)
				rod(6, `${t3a} ${t3c}`)
			}
			if (i==6) {
				const t6a = `${rt1} rotate(${r2 - 45})`
				const t6b = `translate(0 ${4*S}) rotate(${180 + acos4_5})`
				const t6c = `translate(0 ${4*S}) rotate(${180 + 45 + asin2_6})`
				rod(4, `${t6a}`)
				rod(5, `${t6a} ${t6b}`)
				rod(6, `${t6a} ${t6c}`)
			}
		})
	},
	
	nonagon: ()=> {
		const p = svgParams()
		const name = "meccano_nonagon"
		const S = 20
		const extremes = true
		const G = new Polygon(p, name, S, {
			6: "#08f"
		}, false, extremes)
		const C = 6*S / (2*Math.sin(Math.PI/9))
		G.rods(9, (i, rod)=> {
			rod(6, rtr(-40*i, C, 110))
			rod(6, rtr(-40*i, C, 150))
			rod(6, rtr(-40*i, C, 210))
			rod(6, `${rtr(-40*i, C, 210)} translate(0 ${6*S}) rotate(-120)`)
		})
	},

	decagon: ()=> {
		const p = svgParams()
		const name = "meccano_decagon"
		const S = 9
		const G = new Polygon(p, name, S, {
			 9: "#08f",
			11: "#0d2",
			12: "#f20"
		})
		const C = 12*S/(2*Math.sin(Math.PI/10))

		const a1 = -90-18
		const sin18 = Math.sin(Math.PI/10)
		const cos18 = Math.cos(Math.PI/10)
		const p1 = { x:12*S*sin18, y:12*S*cos18 }
		const p2 = { x: 3*S,       y: 0 }
		const p3 = { x: 4*S*sin18, y: 4*S*cos18 }
		const a3 = 180*Math.atan((p1.x + p2.x + p3.x)/(p1.y - p3.y))/Math.PI

		G.rods(10, (i, rod)=> {
			rod(12, rtr(-36*i, C, a1))
			if (i==0 || i==2 || i==6) {
				const t2 = rtr(-36*i, C, 2*a1)
				rod(12, t2)
				rod(12, `${t2} translate(0 ${12*S}) rotate(-36)`)
				rod(12, `${t2} translate(0 ${12*S}) rotate(+72)`)
			}
			if (i==3 || i==7) {
				rod( 9, `rotate(${-36*i})`)
				rod(12, rtr(-36*i, 9*S, +72))
				rod(12, rtr(-36*i, 9*S, -72))
				rod(11, rtr(-36*i, 9*S, +90-a3))
				rod(11, rtr(-36*i, 9*S, -90+a3))
				rod(11, rtr(-36*i,   C, +90+a3))
				rod(11, rtr(-36*i,   C, -90-a3))
			}
		})
	},

	dodecagon: ()=> {
		const p = svgParams()
		const name = "meccano_dodecagon"
		const S = 20
		const skip = true
		const G = new Polygon(p, name, S, {
			 4: "#08f",
			 8: "#0d2",
			10: "#f20"
		}, skip)
		const C = 8*S*Math.sqrt(2)/2 // circuncenter
		const acos4_5 = 180*Math.acos(4/5)/Math.PI

		G.rods(4, (i, rod)=> {
			const t1 = `rotate(${-90*i}) translate(0 ${C})`
			rod(8, `${t1} rotate(${-90-45})`)
			if (i==0) {
				rod(10, `${t1} rotate(${-90-45-acos4_5})`)
			}
			const t2 = rtr(-90*i, C, -45-30)
			rod(4, `${t2}`)
			rod(4, `${t2} translate(0 ${4*S}) rotate(150)`)
			rod(4, `${t2} translate(0 ${4*S}) rotate(-60)`)
			rod(4, `${t2} translate(0 ${4*S}) rotate(-120)`)
			rod(4, `${t2} translate(0 ${4*S}) rotate(-60) translate(0 ${4*S}) rotate(-120)`)
			rod(4, `${t2} translate(0 ${4*S}) rotate(-60) translate(0 ${4*S}) rotate(-60)`)
			rod(4, `${t2} translate(0 ${4*S}) rotate(-60) translate(0 ${4*S}) rotate(-30)`)
		})
	}
}

const create = ()=> {
	const polygon = document.getElementById("select").value
	polygons[polygon].call()
}
const select = document.getElementById("select")
Object.keys(polygons).forEach(key => {
	const option = document.createElement("option")
	option.name = key
	option.innerHTML = key
	select.appendChild(option)
})
document.getElementById("create").onclick = ()=> { create() }
const inputs = [ "width","height","scale","rotation","stroke-width"]
inputs.forEach(i => {
	document.getElementById(i).onchange = ()=> { create() }
})
</script>

</html>